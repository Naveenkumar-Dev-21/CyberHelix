#!/bin/bash
# PentestGPT Launcher Script

echo "🔒 Starting PentestGPT - AI Penetration Testing Assistant"
echo "================================================="
echo ""

# Check Python version
python_version=$(python3 --version 2>&1 | grep -Po '(?<=Python )\d+\.\d+')
echo "✅ Python version: $python_version"

# Check for required tools (optional, won't block execution)
echo ""
echo "Checking optional tools:"
command -v nmap >/dev/null 2>&1 && echo "✅ nmap installed" || echo "⚠️  nmap not found (install with: sudo pacman -S nmap)"
command -v nikto >/dev/null 2>&1 && echo "✅ nikto installed" || echo "⚠️  nikto not found (install with: sudo pacman -S nikto)"
command -v whatweb >/dev/null 2>&1 && echo "✅ whatweb installed" || echo "⚠️  whatweb not found (install with: yay -S whatweb)"
command -v gobuster >/dev/null 2>&1 && echo "✅ gobuster installed" || echo "⚠️  gobuster not found (install with: sudo pacman -S gobuster)"
command -v sqlmap >/dev/null 2>&1 && echo "✅ sqlmap installed" || echo "⚠️  sqlmap not found (install with: sudo pacman -S sqlmap)"

echo ""
echo "================================================="
echo "Launching PentestGPT GUI..."
echo ""

# Launch the application
cd "$(dirname "$0")"
python3 pentest_gpt_fixed.py 2>/dev/null &

# Get the PID
GUI_PID=$!

echo "✅ PentestGPT is running (PID: $GUI_PID)"
echo ""
echo "To stop the application, close the window or run:"
echo "  kill $GUI_PID"
echo ""
echo "Enjoy pentesting! 🚀"
